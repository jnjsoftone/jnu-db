"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function(r,e){for(var t in e)Object.defineProperty(r,t,{enumerable:!0,get:e[t]})}(exports,{backup:function(){return s},connect:function(){return t},disconnect:function(){return n},executeQuery:function(){return c},executeTransaction:function(){return a},restore:function(){return o}});const r=require("@prisma/client"),e=require("jnu-abc"),t=async e=>{try{let t=new r.PrismaClient({datasources:{db:{url:e.datasource.url}}});return await t.$connect(),t}catch(r){return console.error("Prisma 연결 오류:",r),null}},n=async r=>{try{await r.$disconnect()}catch(r){console.error("Prisma 연결 해제 오류:",r)}},c=async(r,e,t,n={})=>{try{let c=await r[e][t](n);return{success:!0,data:c}}catch(r){return{success:!1,error:r instanceof Error?r.message:"알 수 없는 오류"}}},a=async(r,e)=>{try{let t=await r.$transaction(e.map(e=>r[e.model][e.operation](e.args)));return{success:!0,data:t}}catch(r){return{success:!1,error:r instanceof Error?r.message:"알 수 없는 오류"}}},s=async(r,t)=>{try{let n=Object.keys(r).filter(e=>"object"==typeof r[e]&&void 0!==r[e].findMany),c={};for(let e of n){let t=await r[e].findMany();c[e]=t}return await (0,e.saveJson)(t,c),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"알 수 없는 오류"}}},o=async(r,t)=>{try{let n=await (0,e.loadJson)(t);return await r.$transaction(Object.entries(n).map(([e,t])=>{if(Array.isArray(t)&&t.length>0)return r[e].createMany({data:t,skipDuplicates:!0})})),{success:!0}}catch(r){return{success:!1,error:r instanceof Error?r.message:"알 수 없는 오류"}}};